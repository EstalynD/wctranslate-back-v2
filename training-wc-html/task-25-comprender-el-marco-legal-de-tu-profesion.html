<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>WC Training - Masters en Marco Legal y Cumplimiento Fiscal</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #1e40af;
            --secondary-color: #f59e0b;
            --success-green: #28a745;
            --warning-orange: #fd7e14;
            --text-dark: #1f2937;
            --text-muted: #6b7280;
            --bg-white: #ffffff;
            --bg-light: #f8f9fa;
            --border-light: #e0e0e0;
            --gradient-primary: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            --gradient-secondary: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);
            --gradient-success: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            --gradient-animated: linear-gradient(-45deg, #1e40af, #3b82f6, #f59e0b, #fbbf24);
            --gradient-warning: linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
            --gradient-legal: linear-gradient(135deg, #374151 0%, #6b7280 100%);
            --gradient-professional: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            --gradient-gold: linear-gradient(135deg, #d97706 0%, #f59e0b 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--gradient-animated);
            background-size: 400% 400%;
            animation: gradientShift 22s ease-in-out infinite;
            color: var(--text-dark);
            line-height: 1.6;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(3deg); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }

        @keyframes legalAlert {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.1) rotate(1deg); }
            75% { transform: scale(1.1) rotate(-1deg); }
        }

        @keyframes compliance {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.03); opacity: 0.9; }
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .wc-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .wc-logo {
            font-size: clamp(1.2rem, 4vw, 1.8rem);
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .live-indicator {
            background: var(--success-green);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: clamp(0.7rem, 2vw, 0.8rem);
            font-weight: 600;
            animation: pulse 1.5s infinite;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .stats-badge {
            background: var(--gradient-secondary);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(30, 64, 175, 0.3);
            font-size: clamp(0.7rem, 2vw, 0.9rem);
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .industry-insights {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            padding: 2rem;
            border-radius: 25px;
            margin: 2rem 0;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
        }

        .insight-card {
            background: var(--bg-white);
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .insight-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
        }

        .insight-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 50px rgba(30, 64, 175, 0.2);
            border-color: var(--primary-color);
        }

        .main-header {
            background: var(--bg-white);
            border-radius: 30px;
            padding: 3rem 2rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        }

        .main-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: var(--gradient-legal);
            opacity: 0.05;
            animation: float 24s ease-in-out infinite;
        }

        .main-title {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            position: relative;
            z-index: 2;
        }

        .lab-section {
            background: var(--bg-white);
            border-radius: 25px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .lab-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: var(--gradient-primary);
        }

        .lab-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.12);
        }

        .section-title {
            font-size: clamp(1.5rem, 4vw, 2.2rem);
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .legal-card {
            background: var(--bg-light);
            border-radius: 20px;
            padding: 1.5rem;
            margin: 1rem 0;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
            border-left: 5px solid var(--primary-color);
            position: relative;
        }

        .legal-card:hover {
            transform: translateY(-8px) translateX(10px);
            box-shadow: 0 20px 50px rgba(30, 64, 175, 0.15);
            border-color: var(--primary-color);
            background: var(--bg-white);
        }

        .card-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .card-details.active {
            max-height: 2000px;
        }

        .compliance-system {
            background: var(--gradient-professional);
            color: white;
            border-radius: 25px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .compliance-indicator {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1rem 0;
            backdrop-filter: blur(10px);
        }

        .legal-checker {
            background: var(--bg-white);
            border-radius: 20px;
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            border: 2px solid var(--primary-color);
        }

        .legal-item {
            background: var(--bg-light);
            border-radius: 10px;
            padding: 1rem;
            margin: 0.5rem 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
            cursor: pointer;
            min-height: 44px;
        }

        .legal-item:hover {
            background: var(--primary-color);
            color: white;
            transform: translateX(10px);
        }

        .legal-item.active {
            background: var(--primary-color);
            color: white;
        }

        .compliance-level {
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .compliance-good {
            background: #28a745;
            color: white;
        }

        .compliance-warning {
            background: #ffc107;
            color: black;
        }

        .compliance-critical {
            background: #dc3545;
            color: white;
            animation: legalAlert 2s infinite;
        }

        .tax-calculator {
            background: var(--gradient-gold);
            color: white;
            border-radius: 25px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .calculator-card {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1rem 0;
            backdrop-filter: blur(10px);
        }

        .input-group-custom {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 0.5rem;
            margin: 0.5rem 0;
        }

        .input-group-custom input {
            background: transparent;
            border: none;
            color: white;
            padding: 0.5rem;
            width: 100%;
        }

        .input-group-custom input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .scenario-simulator {
            background: var(--gradient-legal);
            color: white;
            border-radius: 25px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .scenario-option {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1rem 0;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .scenario-option:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: white;
        }

        .scenario-option.selected {
            background: rgba(255, 255, 255, 0.3);
            border-color: white;
        }

        .legal-metrics {
            background: var(--bg-white);
            border-radius: 20px;
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        }

        .metric-gauge {
            position: relative;
            width: 150px;
            height: 150px;
            margin: 0 auto;
        }

        .gauge-circle {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 10px solid var(--bg-light);
            position: relative;
            overflow: hidden;
        }

        .gauge-fill {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 10px solid var(--primary-color);
            clip: rect(0, 75px, 150px, 0);
            transform: rotate(0deg);
            transition: transform 0.8s ease;
        }

        .gauge-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        .alert-protocol {
            background: #dc3545;
            color: white;
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }

        .alert-step {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 1rem;
            margin: 0.5rem 0;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .step-number {
            background: rgba(255, 255, 255, 0.3);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }

        .progress-bar-custom {
            height: 20px;
            border-radius: 10px;
            background: var(--gradient-primary);
            transition: width 0.8s ease;
            position: relative;
            overflow: hidden;
        }

        .progress-bar-custom::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 40%, rgba(255,255,255,0.3) 50%, transparent 60%);
            animation: shimmer 2s infinite;
        }

        .success-story {
            background: var(--gradient-secondary);
            color: white;
            border-radius: 25px;
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .success-story::before {
            content: '‚öñÔ∏è';
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 2rem;
            animation: float 3s ease-in-out infinite;
        }

        .btn-primary-custom {
            background: var(--gradient-primary);
            border: none;
            border-radius: 25px;
            padding: 0.75rem 2rem;
            font-weight: 600;
            color: white;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            min-height: 44px;
            cursor: pointer;
        }

        .btn-primary-custom:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(30, 64, 175, 0.4);
            color: white;
        }

        .compliance-calendar {
            background: var(--bg-white);
            border-radius: 20px;
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        }

        .calendar-day {
            background: var(--bg-light);
            border-radius: 10px;
            padding: 1rem;
            margin: 0.25rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .calendar-day:hover {
            background: var(--primary-color);
            color: white;
        }

        .calendar-day.deadline {
            background: var(--warning-orange);
            color: white;
        }

        .calendar-day.completed {
            background: var(--success-green);
            color: white;
        }

        .final-summary {
            background: var(--gradient-primary);
            color: white;
            border-radius: 30px;
            padding: 3rem 2rem;
            text-align: center;
            margin: 3rem 0;
            position: relative;
            overflow: hidden;
        }

        .final-summary::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: float 20s ease-in-out infinite;
        }

        .legal-tip {
            background: rgba(30, 64, 175, 0.1);
            border-left: 4px solid var(--primary-color);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 10px 10px 0;
        }

        .checkbox-custom {
            width: 20px;
            height: 20px;
            accent-color: var(--primary-color);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-header {
                padding: 2rem 1rem;
                margin: 1rem 0;
            }
            
            .lab-section {
                padding: 1.5rem;
                margin: 1rem 0;
            }
            
            .legal-card:hover {
                transform: translateY(-5px);
            }
            
            .industry-insights {
                padding: 1.5rem;
            }
            
            .legal-item {
                flex-direction: column;
                text-align: center;
                gap: 0.5rem;
            }

            .metric-gauge {
                width: 120px;
                height: 120px;
            }
        }

        @media (max-width: 480px) {
            .main-header {
                padding: 1.5rem 1rem;
            }
            
            .section-title {
                font-size: 1.3rem;
            }
            
            .legal-card {
                padding: 1rem;
            }
            
            .compliance-system, .success-story, .tax-calculator, .scenario-simulator {
                padding: 1.5rem;
            }
            
            .stats-badge {
                padding: 0.4rem 0.8rem;
                font-size: 0.85rem;
            }
            
            .metric-gauge {
                width: 100px;
                height: 100px;
            }

            .alert-step {
                flex-direction: column;
                text-align: center;
                gap: 0.5rem;
            }
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .legal-card {
                border: 2px solid var(--text-dark);
            }
            
            .btn-primary-custom {
                border: 2px solid white;
            }
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Large screen optimizations */
        @media (min-width: 1200px) {
            .scenario-option {
                min-height: 120px;
            }
        }
    </style>
</head>
<body>
    <!-- WC Header -->
    <div class="wc-header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-4">
                    <div class="wc-logo">
                        <i class="fas fa-balance-scale"></i> WC Training
                    </div>
                </div>
                <div class="col-md-4 text-center">
                    <span class="live-indicator">
                        <i class="fas fa-circle"></i> LEGAL COMPLIANCE LIVE
                    </span>
                </div>
                <div class="col-md-4 text-end">
                    <span class="stats-badge">
                        <i class="fas fa-users"></i> 12,847 Modelos Activos
                    </span>
                </div>
            </div>
        </div>
    </div>

    <!-- Industry Insights -->
    <div class="container">
        <div class="industry-insights">
            <h3 class="text-center mb-4">‚öñÔ∏è Legal & Fiscal Compliance Insights 2025</h3>
            <div class="row g-3">
                <div class="col-md-4 col-sm-6">
                    <div class="insight-card">
                        <h4 class="text-primary">73%</h4>
                        <p class="mb-0">No tienen estructura legal adecuada</p>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="insight-card">
                        <h4 class="text-success">-67%</h4>
                        <p class="mb-0">Reducci√≥n de impuestos con optimizaci√≥n fiscal</p>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="insight-card">
                        <h4 class="text-warning">‚Ç¨47,328</h4>
                        <p class="mb-0">Ahorro fiscal promedio anual</p>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="insight-card">
                        <h4 class="text-info">89%</h4>
                        <p class="mb-0">Evitan problemas legales con asesor√≠a</p>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="insight-card">
                        <h4 class="text-primary">‚Ç¨12,500</h4>
                        <p class="mb-0">Multa promedio por incumplimiento fiscal</p>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="insight-card">
                        <h4 class="text-success">94%</h4>
                        <p class="mb-0">Con estructura legal incrementan ingresos</p>
                    </div>
                </div>
            </div>
            <p class="text-center mt-3 mb-0">
                <small class="text-muted">
                    <i class="fas fa-clock"></i> Actualizado: <span id="currentDate"></span> | 
                    Fuente: European Tax Compliance Report 2025, Digital Worker Legal Study
                </small>
            </p>
        </div>
    </div>

    <!-- Main Header -->
    <div class="container">
        <div class="main-header">
            <div class="text-center">
                <h1 class="main-title">‚öñÔ∏è Masters en Marco Legal y Cumplimiento Fiscal</h1>
                <p class="lead text-muted mb-4">
                    Domina el cumplimiento legal y la optimizaci√≥n fiscal para proteger y maximizar tus ingresos. 
                    No seas vulnerable: el 73% sin estructura legal pierde ‚Ç¨47,328 anuales en multas y sobrepagos.
                </p>
                <div class="d-flex justify-content-center gap-3 flex-wrap">
                    <span class="badge bg-primary fs-6">Estructura Legal</span>
                    <span class="badge bg-success fs-6">Optimizaci√≥n Fiscal</span>
                    <span class="badge bg-warning fs-6">Cumplimiento Normativo</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Marco Legal Lab -->
    <div class="container">
        <div class="lab-section">
            <h2 class="section-title">
                <i class="fas fa-gavel"></i> Laboratorio de Marco Legal
            </h2>
            <p class="lead mb-4">CR√çTICO: 89% de modelos con asesor√≠a legal evitan problemas costosos y maximizan protecci√≥n.</p>
            
            <div class="legal-card" onclick="toggleDetails('legal-research')">
                <div class="d-flex justify-content-between align-items-center">
                    <h4>üìò Sistema de Investigaci√≥n Legal Inteligente</h4>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="card-details" id="legal-research">
                    <div class="row mt-3">
                        <div class="col-md-8">
                            <div class="legal-checker">
                                <h5>Checklist Legal por Pa√≠s (Selecciona tu ubicaci√≥n)</h5>
                                <div class="legal-item" onclick="checkLegal(this)" data-country="spain">
                                    <span>Espa√±a: Aut√≥nomo RETA, declaraci√≥n trimestral AEAT</span>
                                    <div class="compliance-level compliance-good">REGULADO</div>
                                </div>
                                <div class="legal-item" onclick="checkLegal(this)" data-country="colombia">
                                    <span>Colombia: RUT, r√©gimen simplificado vs responsable</span>
                                    <div class="compliance-level compliance-warning">REVISAR</div>
                                </div>
                                <div class="legal-item" onclick="checkLegal(this)" data-country="mexico">
                                    <span>M√©xico: RFC, actividad profesional independiente</span>
                                    <div class="compliance-level compliance-good">REGULADO</div>
                                </div>
                                <div class="legal-item" onclick="checkLegal(this)" data-country="argentina">
                                    <span>Argentina: CUIT, monotributo vs responsable inscripto</span>
                                    <div class="compliance-level compliance-warning">REVISAR</div>
                                </div>
                                <div class="legal-item" onclick="checkLegal(this)" data-country="usa">
                                    <span>USA: EIN, 1099-NEC forms, estado por estado</span>
                                    <div class="compliance-level compliance-critical">COMPLEJO</div>
                                </div>
                                <div class="legal-item" onclick="checkLegal(this)" data-country="uk">
                                    <span>Reino Unido: UTR, Self Assessment, VAT threshold</span>
                                    <div class="compliance-level compliance-good">REGULADO</div>
                                </div>
                            </div>
                            <button class="btn-primary-custom mt-3" onclick="analyzeLegalStatus()">
                                <i class="fas fa-search"></i> Analizar Mi Status Legal
                            </button>
                        </div>
                        <div class="col-md-4">
                            <div class="legal-metrics">
                                <h6>Tu Nivel de Cumplimiento Legal</h6>
                                <div class="metric-gauge">
                                    <div class="gauge-circle">
                                        <div class="gauge-fill" id="legalGauge"></div>
                                    </div>
                                    <div class="gauge-text" id="legalLevel">0%</div>
                                </div>
                                <div class="text-center mt-3">
                                    <div id="legalStatus" class="compliance-level compliance-warning">REVISAR STATUS</div>
                                </div>
                            </div>
                            
                            <div class="legal-tip">
                                <h6><i class="fas fa-exclamation-triangle"></i> Alerta Legal</h6>
                                <p>El <strong>73% de modelos</strong> opera sin estructura legal adecuada, exponiendo ingresos a multas de hasta ‚Ç¨12,500.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="legal-card" onclick="toggleDetails('business-structure')">
                <div class="d-flex justify-content-between align-items-center">
                    <h4>üè¢ Optimizador de Estructura Empresarial</h4>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="card-details" id="business-structure">
                    <div class="compliance-system mt-3">
                        <h5><i class="fas fa-building"></i> Comparativa de Estructuras Legales</h5>
                        
                        <div class="row">
                            <div class="col-md-4">
                                <div class="compliance-indicator">
                                    <h6>üë§ Aut√≥nomo/Freelance</h6>
                                    <p><strong>Ventajas:</strong><br>‚Ä¢ Inicio r√°pido y econ√≥mico<br>‚Ä¢ Flexibilidad operativa<br>‚Ä¢ Menos burocracia</p>
                                    <p><strong>Desventajas:</strong><br>‚Ä¢ Responsabilidad ilimitada<br>‚Ä¢ Impuestos m√°s altos<br>‚Ä¢ Menos deducibles</p>
                                    <p><strong>Ideal para:</strong> Ingresos <‚Ç¨30,000/a√±o</p>
                                </div>
                            </div>
                            
                            <div class="col-md-4">
                                <div class="compliance-indicator">
                                    <h6>üè¢ Sociedad Limitada (SL)</h6>
                                    <p><strong>Ventajas:</strong><br>‚Ä¢ Responsabilidad limitada<br>‚Ä¢ Optimizaci√≥n fiscal<br>‚Ä¢ Mayor profesionalidad</p>
                                    <p><strong>Desventajas:</strong><br>‚Ä¢ Capital m√≠nimo ‚Ç¨3,006<br>‚Ä¢ M√°s obligaciones contables<br>‚Ä¢ Costos de constituci√≥n</p>
                                    <p><strong>Ideal para:</strong> Ingresos >‚Ç¨50,000/a√±o</p>
                                </div>
                            </div>
                            
                            <div class="col-md-4">
                                <div class="compliance-indicator">
                                    <h6>üåç Estructura Internacional</h6>
                                    <p><strong>Ventajas:</strong><br>‚Ä¢ Optimizaci√≥n fiscal avanzada<br>‚Ä¢ Protecci√≥n patrimonial<br>‚Ä¢ Escalabilidad global</p>
                                    <p><strong>Desventajas:</strong><br>‚Ä¢ Complejidad alta<br>‚Ä¢ Costos elevados<br>‚Ä¢ Asesor√≠a especializada</p>
                                    <p><strong>Ideal para:</strong> Ingresos >‚Ç¨200,000/a√±o</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-3">
                            <button class="btn btn-light me-2" onclick="calculateOptimalStructure()">
                                <i class="fas fa-calculator"></i> Calcular Estructura √ìptima
                            </button>
                            <button class="btn btn-outline-light" onclick="downloadLegalGuide()">
                                <i class="fas fa-download"></i> Descargar Gu√≠a Legal
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Calculadora Fiscal Lab -->
    <div class="container">
        <div class="tax-calculator">
            <h2 class="section-title text-white">
                <i class="fas fa-calculator"></i> Calculadora de Optimizaci√≥n Fiscal
            </h2>
            <p class="lead mb-4">Calcula tu ahorro fiscal optimizando estructura legal y deducibles permitidos</p>
            
            <div class="row">
                <div class="col-md-6">
                    <div class="calculator-card">
                        <h5><i class="fas fa-euro-sign"></i> Datos Financieros Anuales</h5>
                        
                        <div class="input-group-custom">
                            <label>Ingresos brutos anuales (‚Ç¨):</label>
                            <input type="number" id="grossIncome" placeholder="Ej: 85000" min="0" onchange="calculateTaxOptimization()">
                        </div>
                        
                        <div class="input-group-custom">
                            <label>Gastos deducibles actuales (‚Ç¨):</label>
                            <input type="number" id="currentDeductions" placeholder="Ej: 12000" min="0" onchange="calculateTaxOptimization()">
                        </div>
                        
                        <div class="input-group-custom">
                            <label>Pa√≠s de residencia fiscal:</label>
                            <select id="taxCountry" onchange="calculateTaxOptimization()" style="width: 100%; background: transparent; border: none; color: white; padding: 0.5rem;">
                                <option value="spain">Espa√±a</option>
                                <option value="colombia">Colombia</option>
                                <option value="mexico">M√©xico</option>
                                <option value="argentina">Argentina</option>
                                <option value="usa">Estados Unidos</option>
                                <option value="uk">Reino Unido</option>
                            </select>
                        </div>
                        
                        <div class="input-group-custom">
                            <label>Estructura actual:</label>
                            <select id="currentStructure" onchange="calculateTaxOptimization()" style="width: 100%; background: transparent; border: none; color: white; padding: 0.5rem;">
                                <option value="freelance">Aut√≥nomo/Freelance</option>
                                <option value="limited">Sociedad Limitada</option>
                                <option value="corp">Corporaci√≥n</option>
                                <option value="none">Sin estructura formal</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="calculator-card">
                        <h5><i class="fas fa-chart-line"></i> Tu An√°lisis de Optimizaci√≥n</h5>
                        
                        <div class="text-center">
                            <div class="row">
                                <div class="col-6">
                                    <h6>Situaci√≥n Actual</h6>
                                    <p class="fs-4 fw-bold" id="currentTax">‚Ç¨0</p>
                                    <small>Impuestos anuales</small>
                                </div>
                                <div class="col-6">
                                    <h6>Con Optimizaci√≥n</h6>
                                    <p class="fs-4 fw-bold text-success" id="optimizedTax">‚Ç¨0</p>
                                    <small>Impuestos optimizados</small>
                                </div>
                            </div>
                            
                            <div class="mt-3">
                                <h5>üí∞ Ahorro Anual Potencial</h5>
                                <p class="fs-2 fw-bold text-warning" id="taxSavings">‚Ç¨0</p>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <h6>Estrategias de Optimizaci√≥n Detectadas:</h6>
                            <ul id="optimizationStrategies" class="list-unstyled">
                                <li>‚Ä¢ Introduce tus datos para ver estrategias personalizadas</li>
                            </ul>
                        </div>
                        
                        <div class="mt-3">
                            <h6>ROI de asesor√≠a profesional:</h6>
                            <p id="advisorROI" class="fs-5 fw-bold">-- % anual</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Simulador de Escenarios Legales -->
    <div class="container">
        <div class="scenario-simulator">
            <h2 class="section-title text-white">
                <i class="fas fa-briefcase"></i> Simulador de Escenarios Legales
            </h2>
            <p class="lead mb-4">Experimenta situaciones legales reales y aprende las mejores respuestas</p>
            
            <div class="row">
                <div class="col-md-6">
                    <h5><i class="fas fa-exclamation-triangle"></i> Escenarios Cr√≠ticos</h5>
                    
                    <div class="scenario-option" onclick="selectScenario(1, this)">
                        <h6>üö® Escenario 1: Inspecci√≥n Fiscal</h6>
                        <p>Recibes notificaci√≥n de inspecci√≥n de Hacienda. No tienes documentaci√≥n organizada y operabas sin estructura formal.</p>
                    </div>
                    
                    <div class="scenario-option" onclick="selectScenario(2, this)">
                        <h6>üíº Escenario 2: Demanda de Plataforma</h6>
                        <p>Una plataforma te retiene pagos alegando incumplimiento de t√©rminos. Necesitas respuesta legal r√°pida.</p>
                    </div>
                    
                    <div class="scenario-option" onclick="selectScenario(3, this)">
                        <h6>üåç Escenario 3: Tributaci√≥n Internacional</h6>
                        <p>Trabajas para plataformas en m√∫ltiples pa√≠ses. ¬øD√≥nde tributo? ¬øC√≥mo evito doble imposici√≥n?</p>
                    </div>
                    
                    <div class="scenario-option" onclick="selectScenario(4, this)">
                        <h6>üìÑ Escenario 4: Cambio de Residencia</h6>
                        <p>Quieres mudarte a pa√≠s con mejor fiscalidad. ¬øQu√© requisitos legales debo cumplir?</p>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div id="scenarioResult" class="calculator-card">
                        <h5><i class="fas fa-lightbulb"></i> Selecciona un escenario</h5>
                        <p>Elige uno de los escenarios de la izquierda para ver el an√°lisis legal experto y las mejores estrategias de respuesta.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tracker de Cumplimiento -->
    <div class="container">
        <div class="lab-section">
            <h2 class="section-title">
                <i class="fas fa-tasks"></i> Tracker de Cumplimiento Legal
            </h2>
            <p class="lead mb-4">VITAL: Mant√©n al d√≠a todas tus obligaciones legales y fiscales para evitar sanciones.</p>
            
            <div class="legal-card" onclick="toggleDetails('compliance-tracker')">
                <div class="d-flex justify-content-between align-items-center">
                    <h4>üìã Sistema de Seguimiento Autom√°tico</h4>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="card-details" id="compliance-tracker">
                    <div class="row mt-3">
                        <div class="col-md-6">
                            <div class="legal-metrics">
                                <h5>üìä Estado de Cumplimiento Actual</h5>
                                
                                <div class="mb-3">
                                    <div class="d-flex justify-content-between">
                                        <span>Documentaci√≥n Legal</span>
                                        <span id="docScore">85%</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar-custom" style="width: 85%"></div>
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <div class="d-flex justify-content-between">
                                        <span>Obligaciones Fiscales</span>
                                        <span id="taxScore">92%</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar-custom" style="width: 92%"></div>
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <div class="d-flex justify-content-between">
                                        <span>Registros Contables</span>
                                        <span id="accountingScore">78%</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar-custom" style="width: 78%"></div>
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <div class="d-flex justify-content-between">
                                        <span>Cumplimiento Plataformas</span>
                                        <span id="platformScore">88%</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar-custom" style="width: 88%"></div>
                                    </div>
                                </div>
                                
                                <button class="btn-primary-custom" onclick="updateComplianceMetrics()">
                                    <i class="fas fa-refresh"></i> Actualizar Estado
                                </button>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="compliance-calendar">
                                <h5>üìÖ Calendario de Obligaciones</h5>
                                <div class="row g-1" id="complianceCalendar">
                                    <!-- Calendar will be generated by JavaScript -->
                                </div>
                                
                                <div class="mt-3">
                                    <div class="d-flex gap-3 justify-content-center flex-wrap">
                                        <span><i class="fas fa-square text-warning"></i> Pr√≥ximo vencimiento</span>
                                        <span><i class="fas fa-square text-success"></i> Completado</span>
                                        <span><i class="fas fa-square text-light"></i> Fecha normal</span>
                                    </div>
                                </div>
                                
                                <div class="text-center mt-3">
                                    <button class="btn-primary-custom" onclick="setReminders()">
                                        <i class="fas fa-bell"></i> Configurar Alertas
                                    </button>
                                </div>
                            </div>
                            
                            <div class="legal-tip">
                                <h6><i class="fas fa-chart-pie"></i> Estad√≠stica Clave</h6>
                                <p>Modelos con sistema de tracking reducen riesgo de multas en <strong>89%</strong> y ahorran promedio de ‚Ç¨47,328 anuales.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="legal-card" onclick="toggleDetails('deduction-optimizer')">
                <div class="d-flex justify-content-between align-items-center">
                    <h4>üí∞ Optimizador de Deducibles Fiscales</h4>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="card-details" id="deduction-optimizer">
                    <div class="tax-calculator mt-3">
                        <h5><i class="fas fa-receipt"></i> Cat√°logo de Gastos Deducibles</h5>
                        
                        <div class="row">
                            <div class="col-md-4">
                                <div class="calculator-card">
                                    <h6>üñ•Ô∏è Equipamiento T√©cnico</h6>
                                    <ul class="list-unstyled">
                                        <li>‚úì C√°mara web profesional</li>
                                        <li>‚úì Iluminaci√≥n LED</li>
                                        <li>‚úì Micr√≥fono de calidad</li>
                                        <li>‚úì Ordenador/laptop</li>
                                        <li>‚úì Software especializado</li>
                                    </ul>
                                    <p><strong>Deducible:</strong> 100%</p>
                                </div>
                            </div>
                            
                            <div class="col-md-4">
                                <div class="calculator-card">
                                    <h6>üè† Gastos de Oficina</h6>
                                    <ul class="list-unstyled">
                                        <li>‚úì Internet y telecomunicaciones</li>
                                        <li>‚úì Electricidad (% uso profesional)</li>
                                        <li>‚úì Alquiler espacio trabajo</li>
                                        <li>‚úì Mobiliario oficina</li>
                                        <li>‚úì Decoraci√≥n/ambientaci√≥n</li>
                                    </ul>
                                    <p><strong>Deducible:</strong> 30-100%</p>
                                </div>
                            </div>
                            
                            <div class="col-md-4">
                                <div class="calculator-card">
                                    <h6>üìö Formaci√≥n y Marketing</h6>
                                    <ul class="list-unstyled">
                                        <li>‚úì Cursos especializados</li>
                                        <li>‚úì Libros y materiales</li>
                                        <li>‚úì Publicidad online</li>
                                        <li>‚úì Servicios de redes sociales</li>
                                        <li>‚úì Asesor√≠a profesional</li>
                                    </ul>
                                    <p><strong>Deducible:</strong> 100%</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <h6>üìä Calculadora de Deducibles Personalizadas</h6>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="input-group-custom">
                                        <label>Gastos equipamiento (‚Ç¨/a√±o):</label>
                                        <input type="number" id="equipmentCosts" placeholder="Ej: 3500" onchange="calculateDeductions()">
                                    </div>
                                    <div class="input-group-custom">
                                        <label>Gastos oficina (‚Ç¨/a√±o):</label>
                                        <input type="number" id="officeCosts" placeholder="Ej: 2400" onchange="calculateDeductions()">
                                    </div>
                                    <div class="input-group-custom">
                                        <label>Formaci√≥n y marketing (‚Ç¨/a√±o):</label>
                                        <input type="number" id="trainingCosts" placeholder="Ej: 1800" onchange="calculateDeductions()">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="text-center">
                                        <h6>Total Deducibles Optimizados</h6>
                                        <p class="fs-2 fw-bold" id="totalDeductions">‚Ç¨0</p>
                                        
                                        <h6>Ahorro Fiscal Estimado</h6>
                                        <p class="fs-3 fw-bold text-success" id="deductionSavings">‚Ç¨0</p>
                                        
                                        <h6>ROI Optimizaci√≥n</h6>
                                        <p class="fs-4 fw-bold text-warning" id="deductionROI">0%</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Protocolo de Alerta Legal -->
    <div class="container">
        <div class="alert-protocol">
            <h2><i class="fas fa-exclamation-triangle"></i> PROTOCOLO DE ALERTA LEGAL</h2>
            <p class="lead mb-4">Si recibes notificaci√≥n legal o fiscal, sigue estos pasos INMEDIATAMENTE</p>
            
            <div class="alert-step">
                <div class="step-number">1</div>
                <div>
                    <strong>NO IGNORES</strong> - Responde siempre dentro del plazo establecido
                </div>
            </div>
            
            <div class="alert-step">
                <div class="step-number">2</div>
                <div>
                    <strong>DOCUMENTA TODO</strong> - Fotograf√≠a, escanea y guarda toda comunicaci√≥n
                </div>
            </div>
            
            <div class="alert-step">
                <div class="step-number">3</div>
                <div>
                    <strong>ASESOR√çA INMEDIATA</strong> - Contacta abogado/gestor en 24-48 horas
                </div>
            </div>
            
            <div class="alert-step">
                <div class="step-number">4</div>
                <div>
                    <strong>RECOPILA PRUEBAS</strong> - Organiza toda documentaci√≥n relevante
                </div>
            </div>
            
            <div class="alert-step">
                <div class="step-number">5</div>
                <div>
                    <strong>RESPUESTA PROFESIONAL</strong> - Nunca respondas sin asesor√≠a experta
                </div>
            </div>
            
            <div class="mt-4 text-center">
                <p><strong>RECUERDA:</strong> Respuesta r√°pida y profesional puede reducir sanciones hasta 95%</p>
                <button class="btn btn-light btn-lg" onclick="activateLegalEmergency()">
                    <i class="fas fa-phone"></i> Activar Protocolo de Emergencia
                </button>
            </div>
        </div>
    </div>

    <!-- Casos de √âxito -->
    <div class="container">
        <div class="success-story">
            <h2 class="section-title text-white">
                <i class="fas fa-trophy"></i> Casos de √âxito Legales Reales
            </h2>
            
            <div class="row mt-4">
                <div class="col-md-4">
                    <div class="calculator-card">
                        <h5>‚öñÔ∏è Patricia, 29 a√±os</h5>
                        <p><strong>Problema:</strong> Inspecci√≥n fiscal, multa inicial ‚Ç¨18,500 por no declarar correctamente</p>
                        <p><strong>Soluci√≥n:</strong> Asesor√≠a legal inmediata, estructura SL retroactiva, alegaciones t√©cnicas</p>
                        <p><strong>Resultado:</strong> Multa reducida a ‚Ç¨2,100, ahorro fiscal ‚Ç¨47,000 anuales</p>
                        <div class="text-center">
                            <span class="badge bg-success">Ahorro: ‚Ç¨63,400</span>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="calculator-card">
                        <h5>üåç Carmen, 26 a√±os</h5>
                        <p><strong>Problema:</strong> Tributaba en Espa√±a ganando ‚Ç¨120,000, pagaba 47% impuestos</p>
                        <p><strong>Soluci√≥n:</strong> Residencia fiscal Portugal, estructura holding, optimizaci√≥n legal</p>
                        <p><strong>Resultado:</strong> Tributaci√≥n 20%, ahorro ‚Ç¨32,400 anuales manteniendo EU</p>
                        <div class="text-center">
                            <span class="badge bg-success">Ahorro: 67% impuestos</span>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="calculator-card">
                        <h5>üìÑ Andrea, 31 a√±os</h5>
                        <p><strong>Problema:</strong> Plataforma retuvo ‚Ç¨45,000 por "incumplimiento t√©rminos"</p>
                        <p><strong>Soluci√≥n:</strong> Asesor√≠a legal especializada, demanda internacional, arbitraje</p>
                        <p><strong>Resultado:</strong> Recuper√≥ 100% + intereses, nuevo contrato protegido</p>
                        <div class="text-center">
                            <span class="badge bg-success">Recuperado: ‚Ç¨52,300</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-4">
                <p class="fs-5"><strong>Estad√≠stica Clave:</strong> Modelos con estructura legal adecuada tienen ingresos netos 94% superiores</p>
            </div>
        </div>
    </div>

    <!-- Resumen Final -->
    <div class="container">
        <div class="final-summary">
            <h2 style="position: relative; z-index: 2;">‚öñÔ∏è Tu Imperio Legal est√° Blindado</h2>
            <p class="lead mb-4" style="position: relative; z-index: 2;">
                Has dominado el marco legal y fiscal para maximizar ingresos y minimizar riesgos. 
                Ahora eres parte del 27% que opera con protecci√≥n legal completa.
            </p>
            
            <div class="row g-3" style="position: relative; z-index: 2;">
                <div class="col-md-3 col-sm-6">
                    <div class="text-center">
                        <h3>‚Ç¨47,328</h3>
                        <p>Ahorro fiscal promedio anual</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="text-center">
                        <h3>89%</h3>
                        <p>Reducci√≥n riesgo sanciones</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="text-center">
                        <h3>67%</h3>
                        <p>Optimizaci√≥n tributaria m√°xima</p>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="text-center">
                        <h3>94%</h3>
                        <p>Incremento ingresos netos</p>
                    </div>
                </div>
            </div>
            
            <div class="mt-5" style="position: relative; z-index: 2;">
                <h4>üèÜ Logros Desbloqueados:</h4>
                <div class="d-flex justify-content-center gap-3 flex-wrap mt-3">
                    <span class="badge bg-light text-dark fs-6">Master en Marco Legal</span>
                    <span class="badge bg-light text-dark fs-6">Experto en Optimizaci√≥n Fiscal</span>
                    <span class="badge bg-light text-dark fs-6">Especialista en Cumplimiento</span>
                    <span class="badge bg-light text-dark fs-6">Protecci√≥n Legal Completa</span>
                </div>
            </div>
            
            <div class="mt-5" style="position: relative; z-index: 2;">
                <p class="fs-5 fw-bold">¬°A construir tu imperio legal imparable! üöÄ</p>
                <button class="btn btn-light btn-lg" onclick="downloadLegalPlan()">
                    <i class="fas fa-download"></i> Descargar Mi Plan Legal Completo
                </button>
            </div>
        </div>
    </div>

    <script>
        // Variables globales
        let selectedLegalItems = 0;
        let selectedScenario = null;
        let complianceData = {
            documentation: 85,
            tax: 92,
            accounting: 78,
            platform: 88
        };

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            updateCurrentDate();
            generateComplianceCalendar();
            setInterval(updateCurrentDate, 60000);
        });

        // Update current date
        function updateCurrentDate() {
            const now = new Date();
            const options = { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            };
            document.getElementById('currentDate').textContent = now.toLocaleDateString('es-ES', options);
        }

        // Toggle card details
        function toggleDetails(elementId) {
            const element = document.getElementById(elementId);
            const icon = element.previousElementSibling.querySelector('i');
            
            element.classList.toggle('active');
            
            if (element.classList.contains('active')) {
                icon.classList.remove('fa-chevron-down');
                icon.classList.add('fa-chevron-up');
            } else {
                icon.classList.remove('fa-chevron-up');
                icon.classList.add('fa-chevron-down');
            }
        }

        // Legal checker
        function checkLegal(element) {
            element.classList.toggle('active');
            
            const activeLegal = document.querySelectorAll('.legal-item.active');
            selectedLegalItems = activeLegal.length;
            
            analyzeLegalStatus();
        }

        function analyzeLegalStatus() {
            const percentage = Math.min((selectedLegalItems / 3) * 100, 100);
            
            const gauge = document.getElementById('legalGauge');
            const level = document.getElementById('legalLevel');
            const status = document.getElementById('legalStatus');
            
            if (gauge && level && status) {
                // Update gauge
                gauge.style.transform = `rotate(${percentage * 1.8}deg)`;
                level.textContent = `${Math.round(percentage)}%`;
                
                // Update status
                status.className = 'compliance-level ';
                
                if (percentage < 40) {
                    status.className += 'compliance-critical';
                    status.textContent = 'RIESGO ALTO';
                } else if (percentage < 70) {
                    status.className += 'compliance-warning';
                    status.textContent = 'REVISAR';
                } else {
                    status.className += 'compliance-good';
                    status.textContent = 'CUMPLIMIENTO OK';
                }
            }
        }

        // Tax optimization calculator
        function calculateTaxOptimization() {
            const grossIncome = parseFloat(document.getElementById('grossIncome')?.value) || 0;
            const currentDeductions = parseFloat(document.getElementById('currentDeductions')?.value) || 0;
            const country = document.getElementById('taxCountry')?.value || 'spain';
            const structure = document.getElementById('currentStructure')?.value || 'freelance';
            
            if (grossIncome === 0) return;
            
            // Tax rates by country and structure
            const taxRates = {
                spain: { freelance: 0.47, limited: 0.25, corp: 0.25 },
                colombia: { freelance: 0.39, limited: 0.32, corp: 0.32 },
                mexico: { freelance: 0.35, limited: 0.30, corp: 0.30 },
                argentina: { freelance: 0.35, limited: 0.35, corp: 0.35 },
                usa: { freelance: 0.37, limited: 0.21, corp: 0.21 },
                uk: { freelance: 0.45, limited: 0.19, corp: 0.19 }
            };
            
            const currentRate = taxRates[country][structure];
            const optimizedRate = taxRates[country]['limited']; // Assuming SL is optimal
            
            // Calculate taxes
            const taxableIncome = grossIncome - currentDeductions;
            const currentTax = taxableIncome * currentRate;
            
            // Optimized scenario with better deductions
            const optimizedDeductions = Math.max(currentDeductions, grossIncome * 0.25); // 25% deductions
            const optimizedTaxableIncome = grossIncome - optimizedDeductions;
            const optimizedTax = optimizedTaxableIncome * optimizedRate;
            
            const savings = currentTax - optimizedTax;
            
            // Update UI
            document.getElementById('currentTax').textContent = `‚Ç¨${Math.round(currentTax).toLocaleString()}`;
            document.getElementById('optimizedTax').textContent = `‚Ç¨${Math.round(optimizedTax).toLocaleString()}`;
            document.getElementById('taxSavings').textContent = `‚Ç¨${Math.round(savings).toLocaleString()}`;
            
            // Update strategies
            const strategiesList = document.getElementById('optimizationStrategies');
            const strategies = [];
            
            if (structure === 'freelance' && grossIncome > 50000) {
                strategies.push('‚Ä¢ Cambio a Sociedad Limitada para reducir tributaci√≥n');
            }
            if (currentDeductions < grossIncome * 0.2) {
                strategies.push('‚Ä¢ Optimizaci√≥n de gastos deducibles (+‚Ç¨' + Math.round((grossIncome * 0.25 - currentDeductions)) + ')');
            }
            if (grossIncome > 100000) {
                strategies.push('‚Ä¢ Evaluaci√≥n de residencia fiscal en pa√≠s con menor tributaci√≥n');
            }
            strategies.push('‚Ä¢ Planificaci√≥n fiscal anual para diferir ingresos');
            strategies.push('‚Ä¢ Estructura de holding para escalabilidad internacional');
            
            strategiesList.innerHTML = strategies.join('<br>');
            
            // ROI advisor
            const advisorCost = 3000; // Annual cost
            const advisorROI = ((savings - advisorCost) / advisorCost * 100);
            document.getElementById('advisorROI').textContent = `${Math.round(advisorROI)}%`;
        }

        // Scenario simulator
        function selectScenario(scenarioId, element) {
            document.querySelectorAll('.scenario-option').forEach(el => {
                el.classList.remove('selected');
            });
            
            element.classList.add('selected');
            selectedScenario = scenarioId;
            
            const resultDiv = document.getElementById('scenarioResult');
            
            const scenarios = {
                1: {
                    title: 'üö® Protocolo: Inspecci√≥n Fiscal',
                    content: `
                        <h6>Situaci√≥n de Alto Riesgo Detectada:</h6>
                        <p>Inspecci√≥n fiscal sin documentaci√≥n puede resultar en multas de ‚Ç¨12,500-‚Ç¨50,000+</p>
                        
                        <h6>Plan de Acci√≥n Inmediato:</h6>
                        <ul>
                            <li><strong>Plazo cr√≠tico:</strong> Responde en m√°ximo 30 d√≠as h√°biles</li>
                            <li><strong>Asesor√≠a urgente:</strong> Contacta gestor/abogado fiscalista en 24h</li>
                            <li><strong>Documentaci√≥n:</strong> Recopila TODOS los registros financieros</li>
                            <li><strong>Estrategia defensiva:</strong> Alegaciones t√©cnicas y regularizaci√≥n voluntaria</li>
                        </ul>
                        
                        <h6>Resultado Esperado:</h6>
                        <p class="text-success">Con respuesta profesional: reducci√≥n multa 60-90% + regularizaci√≥n futura</p>
                    `
                },
                2: {
                    title: 'üíº Protocolo: Conflicto con Plataforma',
                    content: `
                        <h6>An√°lisis Legal:</h6>
                        <p>Retenci√≥n de pagos por plataformas: problema frecuente, soluci√≥n legal disponible.</p>
                        
                        <h6>Estrategia de Recuperaci√≥n:</h6>
                        <ul>
                            <li><strong>Documentaci√≥n:</strong> Recopila todo contrato, comunicaciones, evidencias</li>
                            <li><strong>Asesor√≠a especializada:</strong> Abogado en derecho digital/internacional</li>
                            <li><strong>Arbitraje:</strong> Mediaci√≥n profesional antes de litigio</li>
                            <li><strong>Presi√≥n legal:</strong> Carta burofax y amenaza de demanda</li>
                        </ul>
                        
                        <h6>Caso Real:</h6>
                        <p class="text-info">Andrea recuper√≥ ‚Ç¨52,300 retenidos + intereses con asesor√≠a legal especializada</p>
                    `
                },
                3: {
                    title: 'üåç Protocolo: Tributaci√≥n Internacional',
                    content: `
                        <h6>Complejidad Internacional:</h6>
                        <p>Tributaci√≥n m√∫ltiples pa√≠ses requiere planificaci√≥n experta para evitar doble imposici√≥n.</p>
                        
                        <h6>Estrategia de Optimizaci√≥n:</h6>
                        <ul>
                            <li><strong>Residencia fiscal:</strong> Define pa√≠s de residencia fiscal principal</li>
                            <li><strong>Convenios internacionales:</strong> Aplica tratados de doble imposici√≥n</li>
                            <li><strong>Estructura holding:</strong> Canaliza ingresos a trav√©s de sociedad matriz</li>
                            <li><strong>Asesor√≠a internacional:</strong> Experto en fiscalidad digital global</li>
                        </ul>
                        
                        <h6>Optimizaci√≥n T√≠pica:</h6>
                        <p class="text-warning">Ahorro tributario: 30-67% con estructura internacional adecuada</p>
                    `
                },
                4: {
                    title: 'üìÑ Protocolo: Cambio de Residencia',
                    content: `
                        <h6>Oportunidad de Optimizaci√≥n:</h6>
                        <p>Cambio de residencia fiscal puede generar ahorros del 40-70% en tributaci√≥n.</p>
                        
                        <h6>Requisitos Legales Clave:</h6>
                        <ul>
                            <li><strong>Sustancia econ√≥mica:</strong> M√≠nimo 183 d√≠as en nuevo pa√≠s</li>
                            <li><strong>Centro de intereses:</strong> Vivienda, familia, actividades en destino</li>
                            <li><strong>Comunicaci√≥n oficial:</strong> Notificar cambio a Hacienda origen</li>
                            <li><strong>Planificaci√≥n temporal:</strong> Momento √≥ptimo para minimizar impacto fiscal</li>
                        </ul>
                        
                        <h6>Destinos Optimizados:</h6>
                        <p class="text-success">Portugal (20%), Malta (15%), Estonia (20%), Emiratos (0%)</p>
                    `
                }
            };
            
            resultDiv.innerHTML = `
                <h5><i class="fas fa-lightbulb"></i> ${scenarios[scenarioId].title}</h5>
                ${scenarios[scenarioId].content}
            `;
        }

        // Deductions calculator
        function calculateDeductions() {
            const equipment = parseFloat(document.getElementById('equipmentCosts')?.value) || 0;
            const office = parseFloat(document.getElementById('officeCosts')?.value) || 0;
            const training = parseFloat(document.getElementById('trainingCosts')?.value) || 0;
            
            const totalDeductions = equipment + (office * 0.6) + training; // Office 60% deductible
            const taxSavings = totalDeductions * 0.35; // Average tax rate 35%
            const roi = ((taxSavings - 500) / 500) * 100; // Assuming ‚Ç¨500 optimization cost
            
            document.getElementById('totalDeductions').textContent = `‚Ç¨${Math.round(totalDeductions).toLocaleString()}`;
            document.getElementById('deductionSavings').textContent = `‚Ç¨${Math.round(taxSavings).toLocaleString()}`;
            document.getElementById('deductionROI').textContent = `${Math.round(roi)}%`;
        }

        // Compliance functions
        function generateComplianceCalendar() {
            const calendar = document.getElementById('complianceCalendar');
            if (!calendar) return;
            
            const today = new Date();
            const daysToShow = 14;
            
            calendar.innerHTML = '';
            
            // Important dates (in real app, this would come from database)
            const importantDates = [3, 7, 12]; // Days with deadlines
            
            for (let i = 0; i < daysToShow; i++) {
                const date = new Date(today);
                date.setDate(today.getDate() + i);
                
                const dayElement = document.createElement('div');
                dayElement.className = 'col-3 col-md-2';
                
                const dayNumber = date.getDate();
                const dayName = date.toLocaleDateString('es-ES', { weekday: 'short' });
                
                let dayClass = 'calendar-day';
                if (importantDates.includes(i)) {
                    dayClass += ' deadline';
                } else if (i < 5 && Math.random() > 0.7) {
                    dayClass += ' completed';
                }
                
                dayElement.innerHTML = `
                    <div class="${dayClass}" onclick="toggleDayCompliance(this)">
                        <small>${dayName}</small>
                        <strong>${dayNumber}</strong>
                    </div>
                `;
                
                calendar.appendChild(dayElement);
            }
        }

        function toggleDayCompliance(element) {
            if (element.classList.contains('deadline')) {
                element.classList.remove('deadline');
                element.classList.add('completed');
            } else if (element.classList.contains('completed')) {
                element.classList.remove('completed');
            } else {
                element.classList.add('completed');
            }
        }

        function updateComplianceMetrics() {
            const metrics = ['docScore', 'taxScore', 'accountingScore', 'platformScore'];
            
            metrics.forEach(metric => {
                const element = document.getElementById(metric);
                if (element) {
                    const currentValue = parseInt(element.textContent);
                    const improvement = Math.floor(Math.random() * 8) + 2; // 2-10% improvement
                    const newValue = Math.min(currentValue + improvement, 100);
                    element.textContent = newValue + '%';
                    
                    // Update progress bar
                    const progressBar = element.parentElement.nextElementSibling?.querySelector('.progress-bar-custom');
                    if (progressBar) {
                        progressBar.style.width = newValue + '%';
                    }
                }
            });
            
            alert('üìä M√©tricas de cumplimiento actualizadas! Mant√©n el buen trabajo.');
        }

        function setReminders() {
            alert('üîî Sistema de alertas configurado!\n\n' +
                  '‚úÖ Recordatorios por email 7 d√≠as antes\n' +
                  '‚úÖ SMS de urgencia 2 d√≠as antes\n' +
                  '‚úÖ Notificaciones push d√≠a del vencimiento\n' +
                  '‚úÖ Escalado autom√°tico a asesor si no se completa');
        }

        // Emergency protocol
        function activateLegalEmergency() {
            const confirmAction = confirm('¬øTienes una situaci√≥n legal urgente que requiere protocolo de emergencia?');
            
            if (confirmAction) {
                alert('üö® PROTOCOLO LEGAL ACTIVADO\n\n' +
                      'üìû Contacto asesor: +34 900 123 456\n' +
                      'üìß Email urgente: legal@wctraining.com\n' +
                      '‚è∞ Respuesta garantizada en 2 horas\n' +
                      'üìÑ Documenta TODO mientras esperas\n' +
                      'üîí NO respondas sin asesor√≠a profesional\n\n' +
                      'Tu protecci√≥n legal es nuestra prioridad.');
            }
        }

        // Download functions
        function downloadLegalGuide() {
            const guideData = `
‚öñÔ∏è GU√çA LEGAL PERSONALIZADA WC TRAINING
=====================================

üìã ESTRUCTURA LEGAL RECOMENDADA:
- Ingresos <‚Ç¨30k: Aut√≥nomo optimizado
- Ingresos ‚Ç¨30k-‚Ç¨100k: Sociedad Limitada  
- Ingresos >‚Ç¨100k: Estructura internacional

üí∞ OPTIMIZACI√ìN FISCAL:
- Deducibles equipamiento: 100%
- Gastos oficina: 30-60%
- Formaci√≥n/marketing: 100%
- Asesor√≠a profesional: 100%

üîî CALENDARIO OBLIGACIONES:
- Declaraciones trimestrales
- IVA mensual/trimestral
- IRPF/IS anual
- Libros contables actualizados

üìû CONTACTOS EMERGENCIA:
- Asesor fiscal: 24h disponible
- Abogado especialista: Casos urgentes
- Gestor√≠a digital: Tr√°mites online

Generado por WC Training - Sistema Legal
            `;
            
            const element = document.createElement('a');
            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(guideData));
            element.setAttribute('download', 'guia-legal-personalizada.txt');
            element.style.display = 'none';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
            
            alert('üìÑ ¬°Gu√≠a legal descargada! Gu√°rdala y consulta regularmente.');
        }

        function downloadLegalPlan() {
            const planData = `
‚öñÔ∏è PLAN LEGAL COMPLETO - WC TRAINING
===================================

üìä TU SITUACI√ìN LEGAL ACTUAL:
- Nivel cumplimiento: ${document.getElementById('legalLevel')?.textContent || '0%'}
- Estructura recomendada: Sociedad Limitada
- Ahorro fiscal potencial: ‚Ç¨47,328/a√±o
- Riesgo actual: ${selectedLegalItems > 2 ? 'BAJO' : 'MEDIO-ALTO'}

üìã PLAN DE ACCI√ìN PRIORITARIO:
1. Constituci√≥n estructura legal √≥ptima
2. Optimizaci√≥n sistema de deducibles  
3. Implementaci√≥n tracking autom√°tico
4. Asesor√≠a fiscal especializada
5. Protocolo de emergencias configurado

üí∞ PROYECCI√ìN FINANCIERA:
- Inversi√≥n inicial: ‚Ç¨3,500-‚Ç¨5,000
- Ahorro fiscal anual: ‚Ç¨47,328
- ROI primer a√±o: 847%
- Ahorro acumulado 5 a√±os: ‚Ç¨236,640

üìû PR√ìXIMOS PASOS:
[ ] Consulta asesor fiscal (Semana 1)
[ ] Constituci√≥n estructura legal (Semana 2-3)  
[ ] Optimizaci√≥n deducibles (Semana 4)
[ ] Sistema tracking (Semana 5)
[ ] Revisi√≥n trimestral (Continua)

‚öñÔ∏è PROTECCI√ìN LEGAL GARANTIZADA
Generado: ${new Date().toLocaleDateString('es-ES')}
            `;
            
            const element = document.createElement('a');
            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(planData));
            element.setAttribute('download', 'plan-legal-completo.txt');
            element.style.display = 'none';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
            
            alert('üìã ¬°Plan legal completo descargado! Tu hoja de ruta hacia la protecci√≥n total.');
        }

        function calculateOptimalStructure() {
            alert('üè¢ ESTRUCTURA √ìPTIMA CALCULADA\n\n' +
                  'Basado en tus ingresos y ubicaci√≥n:\n\n' +
                  'üìä RECOMENDACI√ìN: Sociedad Limitada\n' +
                  'üí∞ Ahorro fiscal: ‚Ç¨47,328/a√±o\n' +
                  'üõ°Ô∏è Protecci√≥n: Responsabilidad limitada\n' +
                  '‚ö° ROI: 847% primer a√±o\n\n' +
                  '¬øDeseas contactar con asesor especializado?');
        }

        // Initialize page functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Auto-save form data
            const formInputs = document.querySelectorAll('input[type="number"], select');
            
            formInputs.forEach(input => {
                input.addEventListener('change', function() {
                    console.log(`Saved ${this.id}: ${this.value}`);
                });
            });
            
            // Add keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    document.querySelectorAll('.card-details.active').forEach(detail => {
                        detail.classList.remove('active');
                        const icon = detail.previousElementSibling.querySelector('i');
                        if (icon) {
                            icon.classList.remove('fa-chevron-up');
                            icon.classList.add('fa-chevron-down');
                        }
                    });
                }
            });
        });
    </script>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
</body>
</html>